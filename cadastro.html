<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RG Digital do Pet</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* (MANTENHA SEU CSS BONITO AQUI - Vou resumir pra caber) */
        body { background: #f1f2f6; font-family: 'Inter', sans-serif; display: flex; justify-content: center; padding: 20px; margin: 0; }
        .card { background: white; width: 100%; max-width: 400px; border-radius: 24px; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.1); text-align: center; padding-bottom: 30px; }
        .photo-area { width: 100%; height: 320px; background: #ddd; position: relative; }
        .photo-area img { width: 100%; height: 100%; object-fit: cover; }
        .badge { position: absolute; top: 20px; left: 50%; transform: translateX(-50%); background: #FF4757; color: white; padding: 8px 20px; border-radius: 50px; font-weight: bold; font-size: 14px; box-shadow: 0 5px 15px rgba(255,71,87,0.4); animation: pulse 2s infinite; }
        .info { padding: 0 25px; margin-top: -40px; position: relative; z-index: 10; }
        .info-box { background: white; border-radius: 20px; padding: 25px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
        h1 { margin: 0 0 5px; color: #2d3436; font-size: 28px; }
        p { color: #636e72; margin: 5px 0; }
        .alert-box { background: #fff3cd; color: #856404; padding: 15px; border-radius: 12px; margin: 20px 0; font-size: 14px; border: 1px solid #ffeeba; display: none; } /* Oculto por padrão */
        .btn { display: flex; align-items: center; justify-content: center; gap: 10px; width: 100%; padding: 16px; border-radius: 16px; text-decoration: none; font-weight: bold; color: white; font-size: 16px; margin-top: 10px; transition: transform 0.2s; }
        .btn:active { transform: scale(0.98); }
        .zap { background: #2ED573; box-shadow: 0 4px 15px rgba(46, 213, 115, 0.4); }
        .call { background: #FF4757; box-shadow: 0 4px 15px rgba(255, 71, 87, 0.4); }
        @keyframes pulse { 0% { transform: translateX(-50%) scale(1); } 50% { transform: translateX(-50%) scale(1.05); } 100% { transform: translateX(-50%) scale(1); } }
    </style>
</head>
<body>

    <div class="card">
        <div class="photo-area">
            <div class="badge"><i class="fa-solid fa-triangle-exclamation"></i> ME PERDI</div>
            <img id="pet-img" src="https://via.placeholder.com/400x400?text=Sem+Foto">
        </div>
        
        <div class="info">
            <div class="info-box">
                <h1 id="pet-name">...</h1>
                <p id="pet-desc">...</p>
                
                <div id="alert-msg" class="alert-box">
                    <i class="fa-solid fa-notes-medical"></i> <span id="msg-text"></span>
                </div>

                <div style="margin-top: 20px; text-align: left;">
                    <p style="font-size: 12px; font-weight: bold; text-transform: uppercase; color: #b2bec3;">Responsável</p>
                    <p id="owner-name" style="font-size: 16px; color: #2d3436; font-weight: bold;">...</p>
                </div>

                <br>
                <a id="btn-zap" href="#" class="btn zap"><i class="fa-brands fa-whatsapp"></i> AVISAR NO WHATSAPP</a>
                <a id="btn-call" href="#" class="btn call"><i class="fa-solid fa-phone"></i> LIGAR AGORA</a>
            </div>
        </div>
    </div>

    <script>
        // A Mágica da Ashley: Ler URL Parameters
        const params = new URLSearchParams(window.location.search);

        // Função segura para decodificar (caso venha caracteres estranhos)
        const get = (id) => params.get(id) || "";

        // Preencher os dados
        if(get('nome')) document.getElementById('pet-name').innerText = get('nome');
        if(get('raca')) document.getElementById('pet-desc').innerText = get('raca') + (get('sexo') ? " • " + get('sexo') : "");
        if(get('dono')) document.getElementById('owner-name').innerText = get('dono');
        
        // Foto (Se vier link ou base64)
        if(get('foto')) document.getElementById('pet-img').src = get('foto');

        // Mensagem de Alerta (Só mostra se tiver)
        if(get('msg')) {
            document.getElementById('msg-text').innerText = get('msg');
            document.getElementById('alert-msg').style.display = 'block';
        }

        // Botões
        const zapNum = get('zap').replace(/\D/g, ''); // Limpa numero
        if(zapNum) {
            document.getElementById('btn-call').href = `tel:55${zapNum}`;
            document.getElementById('btn-zap').href = `https://wa.me/55${zapNum}?text=Olá!%20Encontrei%20o%20${get('nome') || 'seu pet'}!`;
        }
    </script>
</body>
</html>
